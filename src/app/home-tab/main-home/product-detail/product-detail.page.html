<ion-header>
  <ion-toolbar class="heading-padd">
    <ion-buttons slot="secondary" (click)="searchlistModal()">
      <ion-button>
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="primary" (click)="leadformPopover()">
      <ion-button>
        <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="heading-size">{{ title }}</ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content class="product_detail" style="--background:#ededed">
  <ion-spinner
    name="bubbles"
    *ngIf="showProgress"
    class="share-productloader"
  ></ion-spinner>
  <ion-card
    class="product_detail-slide ion-no-padding ion-no-margin"
    style="border-radius: 0 0 20px 20px;margin-bottom:16px;"
  >
    <ion-slides pager="true" [options]="slideOptsDetail">
      <ion-slide style="height: 237px;">
        <ion-card class="slide-caintner">
          <ion-card-content>
            <p class="screenshotimg" *ngIf="productAlldata.image else loading">
              <img
                src="{{screenshotsBg}}{{productAlldata.image}}"
                onError="this.src='../../../assets/images/no-image-available.jpg'"
              />
            </p>
            <ng-template #loading>
              <ion-spinner
                name="crescent"
                style="--color:#3880ff;
                     margin: 50px 0;
                     height: 50px;
                     width: 100%;"
                class="spinner-data"
              ></ion-spinner>
            </ng-template>
          </ion-card-content>
        </ion-card>
      </ion-slide>
    </ion-slides>
  </ion-card>
  <ion-card
    class="top_categorey ion-no-padding ion-no-margin"
    style="background: #ededed;    box-shadow: none;"
    color="primery"
    *ngIf="productAlldata else loading"
  >
    <ion-grid class="microsoft_office ion-no-padding ion-no-margin">
      <ion-row class="business_software_cont">
        <ion-col size="12">
          <span class="inner_office">{{productAlldata.product_name}}</span>
          <p class="solid_dd">
            <span style="color:#000; padding-right:5px;">By </span>
            {{productAlldata.brand_name}}
          </p>
          <p
            class="card_review"
            *ngIf="productAlldata.rating_average && productAlldata.rating_average > 0"
          >
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 0"
            ></ion-icon>
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 1"
            ></ion-icon>
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 2"
            ></ion-icon>
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 3"
            ></ion-icon>
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 4"
            ></ion-icon>
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 5"
            ></ion-icon>
            <ion-icon
              name="star"
              class="is"
              *ngIf="productAlldata.rating_average > 6"
            ></ion-icon>
            <span
              *ngIf="productAlldata.total_reviews && productAlldata.total_reviews > 0"
              >({{productAlldata.total_reviews}} reviews)</span
            >
          </p>

          <div class="km_rs">
            <div
              no-lines
              lines="none"
              style="height:40px;"
              *ngIf="(productAlldata.price_on_request == 1 || productAlldata.product_plan.length <= 0) else priceonrequest"
            >
              <ion-text class="priceonrequest">Price on request</ion-text>
            </div>
          </div>
          <ng-template #priceonrequest>
            <p class="price_stating_flow">Starting Price:</p>
            <ion-text
              *ngIf="productAlldata.special_price != 0 else price"
              lines="none"
              class="ion-no-margin ion-no-padding"
            >
              <ion-text class="bold-price">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  version="1.1"
                  id="Capa_1"
                  x="0px"
                  y="0px"
                  width="12"
                  height="12"
                  viewBox="0 0 401.998 401.998"
                  style="enable-background:new 0 0 401.998 401.998;"
                  xml:space="preserve"
                >
                  <g>
                    <path
                      d="M326.62,91.076c-1.711-1.713-3.901-2.568-6.563-2.568h-48.82c-3.238-15.793-9.329-29.502-18.274-41.112h66.52   c2.669,0,4.853-0.856,6.57-2.565c1.704-1.712,2.56-3.903,2.56-6.567V9.136c0-2.666-0.855-4.853-2.56-6.567   C324.334,0.859,322.15,0,319.481,0H81.941c-2.666,0-4.853,0.859-6.567,2.568c-1.709,1.714-2.568,3.901-2.568,6.567v37.972   c0,2.474,0.904,4.615,2.712,6.423s3.949,2.712,6.423,2.712h41.399c40.159,0,65.665,10.751,76.513,32.261H81.941   c-2.666,0-4.856,0.855-6.567,2.568c-1.709,1.715-2.568,3.901-2.568,6.567v29.124c0,2.664,0.855,4.854,2.568,6.563   c1.714,1.715,3.905,2.568,6.567,2.568h121.915c-4.188,15.612-13.944,27.506-29.268,35.691   c-15.325,8.186-35.544,12.279-60.67,12.279H81.941c-2.474,0-4.615,0.905-6.423,2.712c-1.809,1.809-2.712,3.951-2.712,6.423v36.263   c0,2.478,0.855,4.571,2.568,6.282c36.543,38.828,83.939,93.165,142.182,163.025c1.715,2.286,4.093,3.426,7.139,3.426h55.672   c4.001,0,6.763-1.708,8.281-5.141c1.903-3.426,1.53-6.662-1.143-9.708c-55.572-68.143-99.258-119.153-131.045-153.032   c32.358-3.806,58.625-14.277,78.802-31.404c20.174-17.129,32.449-39.403,36.83-66.811h47.965c2.662,0,4.853-0.854,6.563-2.568   c1.715-1.709,2.573-3.899,2.573-6.563V97.646C329.193,94.977,328.335,92.79,326.62,91.076z"
                    />
                  </g>
                </svg>
                {{productAlldata.special_price}}<b
                  >{{productAlldata.price_text}}</b
                ></ion-text
              >
            </ion-text>
            <ng-template #price>
              <ion-text class="bold-price">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  version="1.1"
                  id="Capa_1"
                  x="0px"
                  y="0px"
                  width="12"
                  height="12"
                  viewBox="0 0 401.998 401.998"
                  style="enable-background:new 0 0 401.998 401.998;"
                  xml:space="preserve"
                >
                  <g>
                    <path
                      d="M326.62,91.076c-1.711-1.713-3.901-2.568-6.563-2.568h-48.82c-3.238-15.793-9.329-29.502-18.274-41.112h66.52   c2.669,0,4.853-0.856,6.57-2.565c1.704-1.712,2.56-3.903,2.56-6.567V9.136c0-2.666-0.855-4.853-2.56-6.567   C324.334,0.859,322.15,0,319.481,0H81.941c-2.666,0-4.853,0.859-6.567,2.568c-1.709,1.714-2.568,3.901-2.568,6.567v37.972   c0,2.474,0.904,4.615,2.712,6.423s3.949,2.712,6.423,2.712h41.399c40.159,0,65.665,10.751,76.513,32.261H81.941   c-2.666,0-4.856,0.855-6.567,2.568c-1.709,1.715-2.568,3.901-2.568,6.567v29.124c0,2.664,0.855,4.854,2.568,6.563   c1.714,1.715,3.905,2.568,6.567,2.568h121.915c-4.188,15.612-13.944,27.506-29.268,35.691   c-15.325,8.186-35.544,12.279-60.67,12.279H81.941c-2.474,0-4.615,0.905-6.423,2.712c-1.809,1.809-2.712,3.951-2.712,6.423v36.263   c0,2.478,0.855,4.571,2.568,6.282c36.543,38.828,83.939,93.165,142.182,163.025c1.715,2.286,4.093,3.426,7.139,3.426h55.672   c4.001,0,6.763-1.708,8.281-5.141c1.903-3.426,1.53-6.662-1.143-9.708c-55.572-68.143-99.258-119.153-131.045-153.032   c32.358-3.806,58.625-14.277,78.802-31.404c20.174-17.129,32.449-39.403,36.83-66.811h47.965c2.662,0,4.853-0.854,6.563-2.568   c1.715-1.709,2.573-3.899,2.573-6.563V97.646C329.193,94.977,328.335,92.79,326.62,91.076z"
                    />
                  </g>
                </svg>
                {{productAlldata.price}}<b
                  >{{productAlldata.price_text}}</b
                ></ion-text
              >
            </ng-template>
          </ng-template>
        </ion-col>

        <ion-col *ngIf="screenshots.length > 0" size="12" class="features_div">
          <h4>Features</h4>
          <div *ngFor="let planorder of plans">
            {{planorder.plan.id}}
          </div>
          <div class="display_cdd" *ngFor="let screenfeatures of screenshots">
            <p class="features_parh">
              <ion-icon name="checkmark"></ion-icon>
              {{screenfeatures.section_name}}
            </p>
          </div>
        </ion-col>
      </ion-row>
      <ion-row
        *ngIf="productAlldata.description != '' && productAlldata.description != null"
        class="business_software_cont"
      >
        <ion-col size="12">
          <h4 class="abouts_us">About</h4>
          <div class="completes" [innerHtml]="productAlldata.description"></div>
        </ion-col>
      </ion-row>

      <ion-row class="specifications_software_cont">
        <ion-col size="12">
          <h4>Specifications</h4>
          <ion-row
            *ngIf="productAlldata.size != null && productAlldata.size != ''"
            class="type_wise"
          >
            <ion-col size="1">
              <span class="smebg">
                <img src="../../../../assets/images/employees.svg" />
              </span>
            </ion-col>
            <ion-col size="11" class="organstion_cont_right">
              <p class="organstion_cont">No. of Employees</p>
              <div
                size="2"
                *ngFor="let sizeEmp of productAlldata.size?.split(',')"
              >
                <p class="sme">{{sizeEmp}}</p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row
            *ngIf="productAlldata.organization_type != null && productAlldata.organization_type == ''"
            class="type_wise"
          >
            <ion-col size="1">
              <span class="smebg">
                <img src="../../../../assets/images/artboard.svg" />
              </span>
            </ion-col>
            <ion-col size="11" class="organstion_cont_right">
              <p class="organstion_cont">Organization Type</p>

              <div
                size="2"
                class="sme"
                *ngFor="let subCategory of productAlldata.organization_type?.split(',')"
              >
                {{subCategory}}
              </div>
            </ion-col>
          </ion-row>

          <ion-row
            class="type_wise"
            *ngIf="productAlldata.operating_system != null && productAlldata.operating_system !== ''"
          >
            <ion-col size="1">
              <span class="smebg">
                <img src="../../../../assets/images/supported_platform.svg" />
              </span>
            </ion-col>
            <ion-col size="11" class="organstion_cont_right">
              <p class="organstion_cont">Supported Platforms</p>
              <div
                size="2"
                *ngIf="productAlldata.operating_system.split(',').indexOf('1') >-1"
              >
                <p class="sme">Ubntu</p>
              </div>
              <div
                size="2"
                *ngIf="productAlldata.operating_system.split(',').indexOf('2') >-1"
              >
                <p class="sme">Windows</p>
              </div>
              <div
                size="2"
                *ngIf="productAlldata.operating_system.split(',').indexOf('3') >-1"
              >
                <p class="sme">iOS</p>
              </div>
              <div
                size="2"
                *ngIf="productAlldata.operating_system.split(',').indexOf('4') >-1"
              >
                <p class="sme">Android</p>
              </div>
              <div
                size="2"
                *ngIf="productAlldata.operating_system.split(',').indexOf('5') >-1"
              >
                <p class="sme">MacOS</p>
              </div>
              <div
                size="2"
                *ngIf="productAlldata.operating_system.split(',').indexOf('6') >-1"
              >
                <p class="sme">Windows(Phone)</p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row
            class="type_wise"
            *ngIf="productAlldata.device != null && productAlldata.device !== ''"
          >
            <ion-col size="1">
              <span class="smebg">
                <img src="../../../../assets/images/device.svg" />
              </span>
            </ion-col>
            <ion-col size="11" class="organstion_cont_right">
              <p class="organstion_cont">Device</p>
              <div
                size="2"
                *ngIf="productAlldata.device.split(',').indexOf('1') >-1"
              >
                <p class="sme">Desktop</p>
              </div>
              <div
                size="2"
                *ngIf="productAlldata.device.split(',').indexOf('2') >-1"
              >
                <p class="sme">Mobile</p>
              </div>
            </ion-col>
          </ion-row>
          <ion-row
            class="type_wise"
            *ngIf="productAlldata.industries != null && productAlldata.industries !== '' && productAlldata.industries.length > 0 "
          >
            <ion-col size="1">
              <span class="smebg">
                <img src="../../../../assets/images/suitable.svg" />
              </span>
            </ion-col>
            <ion-col size="11" class="organstion_cont_right">
              <p class="organstion_cont">Suitable for</p>
              <div
                class="sme"
                *ngFor="let industry of productAlldata.industries"
              >
                {{industry.name}}
              </div>
            </ion-col>
          </ion-row>
          <ion-row
            class="type_wise"
            *ngIf="productAlldata.languages != null && productAlldata.languages !== '' && productAlldata.languages.length > 0 "
          >
            <ion-col size="1">
              <span class="smebg">
                <img src="../../../../assets/images/language.svg" />
              </span>
            </ion-col>
            <ion-col size="11" class="organstion_cont_right">
              <p class="organstion_cont">Language</p>
              <div
                class="sme"
                *ngFor="let language of productAlldata.languages"
              >
                {{language.language}}
              </div>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="recentlyshared != ''" class="recently_software_cont">
       
        
        <ion-col size="12"  *ngIf="recentlyshared  else loadingg">
          <h4>Recently shared by</h4>
          <div class="recentlyshareddiv">
            <ion-list
              class="shared_bottom_margin"
              *ngFor="let recentShare of recentlyshared"
            >
              <ion-item
                *ngIf="recentShare.cpartner !== ''"
                class="shared_location_div"
                lines="none"
              >
                <ion-avatar slot="start" class="avataer-bg">
                  {{recentShare.cpartner|slice:0:1 }}
                </ion-avatar>
                <ion-label class="ben_along_items">
                  <h2>{{recentShare.cpartner}}</h2>
                  <h3>{{recentShare.platform}}</h3>
                </ion-label>
                <ion-label class="looking_arean">
                  <h2>{{recentShare.create_date |slice:0:10}}</h2>
                </ion-label>
              </ion-item>
            </ion-list>
          </div>
        </ion-col>
        <ng-template #loadingg>
          <div style="width: 100%; text-align:center;">
           
          </div>
        </ng-template>

      </ion-row>
    </ion-grid>
  </ion-card>
  <ng-template #loading>
    <ion-spinner
      name="crescent"
      style="--color:#3880ff;
           margin: 50px 0;
           height: 50px;
           width: 100%;"
      class="spinner-data"
    ></ion-spinner>
  </ng-template>
</ion-content>
<ion-footer>
  <ion-button
    expand="block"
    shape="round"
    style="
  margin: 10px;
  line-height: 40px;
  height: 45px;--background: #f5440d;"
    (click)="shareProduct('general', productAlldata)"
    >Share & Sell</ion-button
  >
</ion-footer>
